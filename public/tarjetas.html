<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Generador de Tarjetas de Participantes - Con Fondo Personalizado</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #000;
            color: #fff;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .controls {
            background-color: #1c1c1c;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            color: #00ff3c;
            font-weight: bold;
        }
        
        input[type="file"] {
            background-color: #333;
            border: 2px dashed #00ff3c;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        input[type="file"]:hover {
            background-color: #444;
            border-color: #00cc33;
        }
        
        #imageStatus {
            transition: all 0.3s;
        }
        
        .font-control-buttons {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 10px;
        }
        
        .font-control-buttons button {
            border: none;
            border-radius: 15px;
            padding: 5px 10px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .font-control-buttons button:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        input, select, button {
            width: 100%;
            padding: 10px;
            border: 2px solid #333;
            border-radius: 5px;
            background-color: #000;
            color: #fff;
            font-size: 16px;
        }
        
        button {
            background-color: #00ff3c;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        button:hover {
            background-color: #00cc33;
            transform: translateY(-2px);
        }
        
        .preview-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .canvas-container {
            background-color: #1c1c1c;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        canvas {
            border: 2px solid #00ff3c;
            border-radius: 10px;
            max-width: 100%;
            height: auto;
        }
        
        .batch-controls {
            background-color: #1c1c1c;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .batch-progress {
            background-color: #333;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .batch-progress-bar {
            background-color: #00ff3c;
            height: 100%;
            width: 0%;
            transition: width 0.3s;
        }
        
        .download-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .preview-section {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ Generador de Tarjetas de Participantes</h1>
        <p style="color: #ccc; margin-top: 10px; font-size: 16px;">
            Sube tu PNG de fondo y genera tarjetas personalizadas para todos los participantes
        </p>
        
        <!-- Subir imagen de fondo -->
        <div class="controls">
            <h3>üñºÔ∏è Imagen de Fondo</h3>
            <div class="form-group">
                <label for="backgroundUpload">Cargar PNG de fondo:</label>
                <input type="file" id="backgroundUpload" accept=".png,.jpg,.jpeg,.webp" onchange="loadCustomBackground(this)">
            </div>
            <div id="imageStatus" style="padding: 10px; margin-top: 10px; border-radius: 5px; background-color: #333; color: #fff; text-align: center;">
                üì• Selecciona una imagen PNG de fondo o usa el dise√±o por defecto
            </div>
            <div style="margin-top: 10px; padding: 10px; background-color: #1a1a1a; border-radius: 5px; border-left: 4px solid #00ff3c;">
                <p style="margin: 0; font-size: 14px; color: #ccc;">
                    üí° <strong>Tip:</strong> Sube tu PNG original, ajusta posiciones X,Y y tama√±os de fuente. Usa los botones +/- para ajustes r√°pidos o los presets para tama√±os est√°ndar.
                </p>
            </div>
            <div style="margin-top: 5px; text-align: center;">
                <button onclick="generateSampleBackground()" style="background-color: #2196F3; color: white; border: none; padding: 5px 15px; border-radius: 15px; font-size: 12px; cursor: pointer;">
                    üé® Generar Ejemplo de Fondo
                </button>
            </div>
        </div>

        <!-- Controles individuales -->
        <div class="controls">
            <h3>üìù Crear Tarjeta Individual</h3>
            <div class="form-group">
                <label for="participantNumber">N√∫mero del Participante:</label>
                <input type="number" id="participantNumber" min="1" max="999" value="007">
            </div>
            
            <div class="form-group">
                <label for="participantCategory">Categor√≠a:</label>
                <select id="participantCategory">
                    <option value="PRINCIPIANTE">PRINCIPIANTE</option>
                    <option value="INTERMEDIO">INTERMEDIO</option>
                    <option value="AVANZADO">AVANZADO</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Ajuste de posici√≥n del texto:</label>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <div>
                        <label for="categoryX">Categor√≠a X:</label>
                        <input type="number" id="categoryX" value="60" min="0" max="800" onchange="generateSingleCard(); updateBatchConfigSummary();">
                    </div>
                    <div>
                        <label for="categoryY">Categor√≠a Y:</label>
                        <input type="number" id="categoryY" value="120" min="0" max="600" onchange="generateSingleCard(); updateBatchConfigSummary();">
                    </div>
                    <div>
                        <label for="numberX">N√∫mero X:</label>
                        <input type="number" id="numberX" value="60" min="0" max="800" onchange="generateSingleCard(); updateBatchConfigSummary();">
                    </div>
                    <div>
                        <label for="numberY">N√∫mero Y:</label>
                        <input type="number" id="numberY" value="320" min="0" max="600" onchange="generateSingleCard(); updateBatchConfigSummary();">
                    </div>
                </div>
                <button onclick="resetTextPositions()" style="background-color: #333; margin-top: 5px;">üîÑ Restablecer</button>
                <button onclick="centerTextPositions()" style="background-color: #333; margin-top: 5px;">üéØ Centrar Texto</button>
            </div>
            
            <div class="form-group">
                <label>Ajuste de tama√±o de fuente:</label>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <div>
                        <label for="categoryFontSize">Tama√±o Categor√≠a:</label>
                        <input type="number" id="categoryFontSize" value="36" min="10" max="200" onchange="generateSingleCard(); updateBatchConfigSummary();">
                    </div>
                    <div>
                        <label for="numberFontSize">Tama√±o N√∫mero:</label>
                        <input type="number" id="numberFontSize" value="160" min="20" max="500" onchange="generateSingleCard(); updateBatchConfigSummary();">
                    </div>
                </div>
                <div class="font-control-buttons">
                    <button onclick="setFontPreset('small')" style="background-color: #444;">üìè Peque√±o</button>
                    <button onclick="setFontPreset('medium')" style="background-color: #444;">üìê Mediano</button>
                    <button onclick="setFontPreset('large')" style="background-color: #444;">üìè Grande</button>
                    <button onclick="setFontPreset('xlarge')" style="background-color: #444;">üìè Extra Grande</button>
                </div>
                <div class="font-control-buttons">
                    <button onclick="adjustFontSize('category', 5)" style="background-color: #00ff3c; color: #000;">üìà +5 Categor√≠a</button>
                    <button onclick="adjustFontSize('category', -5)" style="background-color: #ff4444; color: #fff;">üìâ -5 Categor√≠a</button>
                    <button onclick="adjustFontSize('number', 20)" style="background-color: #00ff3c; color: #000;">üìà +20 N√∫mero</button>
                    <button onclick="adjustFontSize('number', -20)" style="background-color: #ff4444; color: #fff;">üìâ -20 N√∫mero</button>
                </div>
            </div>
            
            <button onclick="generateSingleCard()">üé® Generar Tarjeta</button>
        </div>
        
        <!-- Vista previa -->
        <div class="preview-section">
            <div class="canvas-container">
                <h3>üñºÔ∏è Vista Previa</h3>
                <canvas id="previewCanvas" width="800" height="600"></canvas>
                <div class="download-buttons">
                    <button onclick="downloadCurrentCard()">üì• Descargar PNG</button>
                    <button onclick="downloadCurrentCardJPG()">üì• Descargar JPG</button>
                </div>
            </div>
            
            <div class="canvas-container">
                <h3>üìä Informaci√≥n & Gu√≠a</h3>
                <div id="cardInfo">
                    <p><strong>N√∫mero:</strong> <span id="infoNumber">007</span></p>
                    <p><strong>Categor√≠a:</strong> <span id="infoCategory">PRINCIPIANTE</span></p>
                    <p><strong>Posici√≥n Categor√≠a:</strong> <span id="infoCategoryPos">60, 120</span></p>
                    <p><strong>Posici√≥n N√∫mero:</strong> <span id="infoNumberPos">60, 320</span></p>
                    <p><strong>Tama√±o Categor√≠a:</strong> <span id="infoCategorySize">36px</span></p>
                    <p><strong>Tama√±o N√∫mero:</strong> <span id="infoNumberSize">160px</span></p>
                    <p><strong>Dimensiones:</strong> <span id="infoDimensions">800x600px</span></p>
                    <p><strong>Formato:</strong> PNG/JPG</p>
                </div>
                <div style="margin-top: 15px; padding: 10px; background-color: #2a2a2a; border-radius: 5px; border-left: 4px solid #2196F3;">
                    <p style="margin: 0; font-size: 12px; color: #ccc;">
                        <strong>üìñ C√≥mo usar:</strong><br>
                        1. Sube tu PNG de fondo<br>
                        2. Ajusta las posiciones X,Y<br>
                        3. Configura tama√±os de fuente<br>
                        4. Usa presets o botones +/-<br>
                        5. Genera individual o en lote<br>
                        6. Descarga las im√°genes
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Controles de lote -->
        <div class="batch-controls">
            <h3>üì¶ Generaci√≥n en Lote</h3>
            <div class="form-group">
                <label for="batchCategory">Categor√≠a para lote:</label>
                <select id="batchCategory">
                    <option value="Principiante Masculino">Principiante Masculino</option>
                    <option value="Intermedio Masculino">Intermedio Masculino</option>
                    <option value="Avanzado Masculino">Avanzado Masculino</option>
                    <option value="Principiante Femenino">Principiante Femenino</option>
                    <option value="Intermedio Femenino">Intermedio Femenino</option>
                    <option value="Avanzado Femenino">Avanzado Femenino</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="batchFormat">Formato de descarga:</label>
                <select id="batchFormat">
                    <option value="png">PNG (Alta calidad)</option>
                    <option value="jpg">JPG (Menor tama√±o)</option>
                </select>
            </div>
            
            <button onclick="generateBatchCards()" id="batchButton">üì¶ Generar Lote Completo</button>
            
            <div class="batch-progress hidden" id="batchProgress">
                <div class="batch-progress-bar" id="batchProgressBar"></div>
                <p id="batchStatus">Procesando...</p>
            </div>
        </div>
    </div>

    <script>
        // Datos de participantes (copiados del HTML original)
        const participantes = [
            // Principiante Masculino (001-044)
            {numero: 1, categoria: "Principiante Masculino", nombre: "Yeison Felipe Ortiz Agredo", talla: "L"},
            {numero: 2, categoria: "Principiante Masculino", nombre: "Ary Jose Ord√≥√±ez", talla: "L"},
            {numero: 3, categoria: "Principiante Masculino", nombre: "Wilson Ortega", talla: "L"},
            {numero: 4, categoria: "Principiante Masculino", nombre: "Brayan Devia", talla: "M"},
            {numero: 5, categoria: "Principiante Masculino", nombre: "Maicol Mu√±oz", talla: "L"},
            {numero: 6, categoria: "Principiante Masculino", nombre: "David Prado", talla: "M"},
            {numero: 7, categoria: "Principiante Masculino", nombre: "Daniel Osorio", talla: "L"},
            {numero: 8, categoria: "Principiante Masculino", nombre: "Kevin Daniel Ramos", talla: "L"},
            {numero: 9, categoria: "Principiante Masculino", nombre: "Fabi√°n Mart√≠nez", talla: "L"},
            {numero: 10, categoria: "Principiante Masculino", nombre: "Angel Pame", talla: "L"},
            {numero: 11, categoria: "Principiante Masculino", nombre: "Pedro Alegria", talla: "M"},
            {numero: 12, categoria: "Principiante Masculino", nombre: "Juan Jos√© Z√∫√±iga", talla: "M"},
            {numero: 13, categoria: "Principiante Masculino", nombre: "Kevin Adri√°n Moreno", talla: "L"},
            {numero: 14, categoria: "Principiante Masculino", nombre: "Christian Camilo Rivera", talla: "L"},
            {numero: 15, categoria: "Principiante Masculino", nombre: "Andr√©s Felipe Ram√≠rez", talla: "L"},
            {numero: 16, categoria: "Principiante Masculino", nombre: "Carlos Enrique", talla: "XL"},
            {numero: 17, categoria: "Principiante Masculino", nombre: "Jhon Michael Lemos", talla: "M"},
            {numero: 18, categoria: "Principiante Masculino", nombre: "James Cadena", talla: "L"},
            {numero: 19, categoria: "Principiante Masculino", nombre: "Juli√°n Ortega", talla: "M"},
            {numero: 20, categoria: "Principiante Masculino", nombre: "Camilo Ch√°vez", talla: "M"},
            {numero: 21, categoria: "Principiante Masculino", nombre: "Juan Guillermo Solano", talla: "M"},
            {numero: 22, categoria: "Principiante Masculino", nombre: "Daniel Felipe Bedoya", talla: "M"},
            {numero: 23, categoria: "Principiante Masculino", nombre: "Andr√©s Molina", talla: "XL"},
            {numero: 24, categoria: "Principiante Masculino", nombre: "Esteban Mu√±oz", talla: "L"},
            {numero: 25, categoria: "Principiante Masculino", nombre: "Andr√©s Pomeo", talla: "XL"},
            {numero: 26, categoria: "Principiante Masculino", nombre: "Danilo Chamorro", talla: "M"},
            {numero: 27, categoria: "Principiante Masculino", nombre: "Angelo Camilo", talla: "M"},
            {numero: 28, categoria: "Principiante Masculino", nombre: "Fernando P√©rez", talla: "M"},
            {numero: 29, categoria: "Principiante Masculino", nombre: "Angel Benavides", talla: "S"},
            {numero: 30, categoria: "Principiante Masculino", nombre: "Fernando P√©rez", talla: "M"},
            {numero: 31, categoria: "Principiante Masculino", nombre: "Sebasti√°n Minota", talla: "M"},
            {numero: 32, categoria: "Principiante Masculino", nombre: "Ismael Sandoval", talla: "L"},
            {numero: 33, categoria: "Principiante Masculino", nombre: "Peter Mena", talla: "XL"},
            {numero: 34, categoria: "Principiante Masculino", nombre: "Juan Pablo", talla: "L"},
            {numero: 35, categoria: "Principiante Masculino", nombre: "Jhan Carlos S√°nchez", talla: "L"},
            {numero: 36, categoria: "Principiante Masculino", nombre: "Nicol√°s Santacruz", talla: "M"},
            {numero: 37, categoria: "Principiante Masculino", nombre: "Jhonatan Meneses", talla: "XL"},
            {numero: 38, categoria: "Principiante Masculino", nombre: "Juan Meneses", talla: "L"},
            {numero: 39, categoria: "Principiante Masculino", nombre: "Jhonatan Paniagua", talla: "M"},
            {numero: 40, categoria: "Principiante Masculino", nombre: "Jes√∫s L√≥pez", talla: "M"},
            {numero: 41, categoria: "Principiante Masculino", nombre: "Ronaldo Bola√±os", talla: "M"},
            {numero: 42, categoria: "Principiante Masculino", nombre: "Rosember Angucho", talla: "XS"},
            {numero: 43, categoria: "Principiante Masculino", nombre: "Duvan Felipe Armero", talla: "M"},
            {numero: 44, categoria: "Principiante Masculino", nombre: "Cristian Galagarra", talla: "M"},
            
            // Intermedio Masculino (045-064)
            {numero: 45, categoria: "Intermedio Masculino", nombre: "Junior L√≥pez", talla: "S"},
            {numero: 46, categoria: "Intermedio Masculino", nombre: "Johan Betancourt", talla: "M"},
            {numero: 47, categoria: "Intermedio Masculino", nombre: "Emerson S√°nchez", talla: "L"},
            {numero: 48, categoria: "Intermedio Masculino", nombre: "Santiago Quintero", talla: "M"},
            {numero: 49, categoria: "Intermedio Masculino", nombre: "√ìscar David Enrique", talla: "M"},
            {numero: 50, categoria: "Intermedio Masculino", nombre: "Daniel Felipe Parra", talla: "M"},
            {numero: 51, categoria: "Intermedio Masculino", nombre: "Luis Miguel Aguirre", talla: "L"},
            {numero: 52, categoria: "Intermedio Masculino", nombre: "Edwin Gironza", talla: "L"},
            {numero: 53, categoria: "Intermedio Masculino", nombre: "Antonio Cuasquer", talla: "L"},
            {numero: 54, categoria: "Intermedio Masculino", nombre: "Duvan Ramos", talla: "L"},
            {numero: 55, categoria: "Intermedio Masculino", nombre: "Yojan Pillimue", talla: "M"},
            {numero: 56, categoria: "Intermedio Masculino", nombre: "Diego Casanova", talla: "M"},
            {numero: 57, categoria: "Intermedio Masculino", nombre: "Daniel Samboni", talla: "XL"},
            {numero: 58, categoria: "Intermedio Masculino", nombre: "Walter Iv√°n Guamanga", talla: "XL"},
            {numero: 59, categoria: "Intermedio Masculino", nombre: "Alex Troyano", talla: "M"},
            {numero: 60, categoria: "Intermedio Masculino", nombre: "Juli√°n David Pacue", talla: "L"},
            {numero: 61, categoria: "Intermedio Masculino", nombre: "David Ulabarry", talla: "L"},
            {numero: 62, categoria: "Intermedio Masculino", nombre: "Arnol Sanchez", talla: "M"},
            {numero: 63, categoria: "Intermedio Masculino", nombre: "Juan Felipe Burbano", talla: "M"},
            {numero: 64, categoria: "Intermedio Masculino", nombre: "Coach Duvan", talla: "L"},
            {numero: 143, categoria: "Intermedio Masculino", nombre: "Alejandro San", talla: "L"},

            // Avanzado Masculino (065-079)
            {numero: 65, categoria: "Avanzado Masculino", nombre: "Cristhian Betancourth", talla: "L"},
            {numero: 66, categoria: "Avanzado Masculino", nombre: "John Edison Solarte", talla: "M"},
            {numero: 67, categoria: "Avanzado Masculino", nombre: "Cristhian Valencia", talla: "XL"},
            {numero: 68, categoria: "Avanzado Masculino", nombre: "Jhonatan Ord√≥√±ez", talla: "L"},
            {numero: 69, categoria: "Avanzado Masculino", nombre: "Yeiko", talla: "L"},
            {numero: 70, categoria: "Avanzado Masculino", nombre: "Brayan Stiven Mu√±oz", talla: "M"},
            {numero: 71, categoria: "Avanzado Masculino", nombre: "Fretman Vargas", talla: "M"},
            {numero: 72, categoria: "Avanzado Masculino", nombre: "Jonathan Hern√°ndez", talla: "L"},
            {numero: 73, categoria: "Avanzado Masculino", nombre: "Daniel San", talla: "L"},
            {numero: 74, categoria: "Avanzado Masculino", nombre: "Cristian Vinasco", talla: "M"},
            {numero: 75, categoria: "Avanzado Masculino", nombre: "Daniel G√≥mez", talla: "M"},
            {numero: 76, categoria: "Avanzado Masculino", nombre: "Jhojan Santacruz", talla: "L"},
            {numero: 77, categoria: "Avanzado Masculino", nombre: "Giovanni Bola√±os", talla: "L"},
            {numero: 78, categoria: "Avanzado Masculino", nombre: "Andr√©s Chag√ºendo", talla: "XL"},
            {numero: 79, categoria: "Avanzado Masculino", nombre: "James Campo", talla: "L"},
            
            // Principiante Femenino (080-130)
            {numero: 80, categoria: "Principiante Femenino", nombre: "Lenny Paola Rojas Bola√±os", talla: "S"},
            {numero: 81, categoria: "Principiante Femenino", nombre: "Ana Lucia Bravo Lopez", talla: "XS"},
            {numero: 82, categoria: "Principiante Femenino", nombre: "Mar√≠a Alejandra Vivas", talla: "M"},
            {numero: 83, categoria: "Principiante Femenino", nombre: "Liliana Ruiz", talla: "M"},
            {numero: 84, categoria: "Principiante Femenino", nombre: "Valentina Mendez Agredo", talla: "M"},
            {numero: 85, categoria: "Principiante Femenino", nombre: "Anny Yazmin Buitron", talla: "M"},
            {numero: 86, categoria: "Principiante Femenino", nombre: "Angela Maria Possos Hernandez", talla: "M"},
            {numero: 87, categoria: "Principiante Femenino", nombre: "Carmen Cuetia", talla: "M"},
            {numero: 88, categoria: "Principiante Femenino", nombre: "Vanesa Anaya", talla: "M"},
            {numero: 89, categoria: "Principiante Femenino", nombre: "Keren Yireth S√°nchez", talla: "M"},
            {numero: 90, categoria: "Principiante Femenino", nombre: "Yulieth Valentina L√≥pez", talla: "S"},
            {numero: 91, categoria: "Principiante Femenino", nombre: "Angelica Andrea Realpe", talla: "M"},
            {numero: 92, categoria: "Principiante Femenino", nombre: "Giselle Palomino", talla: "M"},
            {numero: 93, categoria: "Principiante Femenino", nombre: "Denyi Lorena L√≥pez", talla: "M"},
            {numero: 94, categoria: "Principiante Femenino", nombre: "Isa Roberto", talla: "XS"},
            {numero: 95, categoria: "Principiante Femenino", nombre: "Nilce Hern√°ndez", talla: "L"},
            {numero: 96, categoria: "Principiante Femenino", nombre: "Patricia Hoyos", talla: "S"},
            {numero: 97, categoria: "Principiante Femenino", nombre: "Diana Hoyos", talla: "S"},
            {numero: 98, categoria: "Principiante Femenino", nombre: "Maye Pe√±a", talla: "S"},
            {numero: 99, categoria: "Principiante Femenino", nombre: "Viviana Paredes", talla: "M"},
            {numero: 100, categoria: "Principiante Femenino", nombre: "Meliza L√≥pez", talla: "S"},
            {numero: 101, categoria: "Principiante Femenino", nombre: "Ana Luc√≠a Rodr√≠guez", talla: "L"},
            {numero: 102, categoria: "Principiante Femenino", nombre: "Karol Viviana Qui√±ones", talla: "L"},
            {numero: 103, categoria: "Principiante Femenino", nombre: "Lisbet Joaqui", talla: "S"},
            {numero: 104, categoria: "Principiante Femenino", nombre: "Lina Pe√±a Mar√≠n", talla: "M"},
            {numero: 105, categoria: "Principiante Femenino", nombre: "Lizeth Mellizo", talla: "M"},
            {numero: 106, categoria: "Principiante Femenino", nombre: "Mar√≠a Isabel Correa", talla: "S"},
            {numero: 107, categoria: "Principiante Femenino", nombre: "Fanny Guti√©rrez", talla: "M"},
            {numero: 108, categoria: "Principiante Femenino", nombre: "Angelica Ledesma", talla: "M"},
            {numero: 109, categoria: "Principiante Femenino", nombre: "Alba Palmito", talla: "L"},
            {numero: 110, categoria: "Principiante Femenino", nombre: "Mar√≠a Jos√© Fuertes", talla: "M"},
            {numero: 111, categoria: "Principiante Femenino", nombre: "Alexandra Salamanca", talla: "L"},
            {numero: 112, categoria: "Principiante Femenino", nombre: "Luisa Pedroza", talla: "M"},
            {numero: 113, categoria: "Principiante Femenino", nombre: "Diana Samboni", talla: "S"},
            {numero: 114, categoria: "Principiante Femenino", nombre: "Valentina Franco", talla: "S"},
            {numero: 115, categoria: "Principiante Femenino", nombre: "Mar√≠a Yeni Pulido", talla: "M"},
            {numero: 116, categoria: "Principiante Femenino", nombre: "Yuri Stefany Pacue", talla: "S"},
            {numero: 117, categoria: "Principiante Femenino", nombre: "Evelin Velasco", talla: "S"},
            {numero: 118, categoria: "Principiante Femenino", nombre: "Dayana Velasco", talla: "M"},
            {numero: 119, categoria: "Principiante Femenino", nombre: "Claudia Gir√≥n", talla: "M"},
            {numero: 120, categoria: "Principiante Femenino", nombre: "Daniela Hoyos Ben√≠tez", talla: "M"},
            {numero: 121, categoria: "Principiante Femenino", nombre: "Yurani Chilito", talla: "M"},
            {numero: 122, categoria: "Principiante Femenino", nombre: "Laura S√°nchez", talla: "M"},
            {numero: 123, categoria: "Principiante Femenino", nombre: "Daniela Chilito", talla: "M"},
            {numero: 124, categoria: "Principiante Femenino", nombre: "Viviana Vejarano", talla: "S"},
            {numero: 125, categoria: "Principiante Femenino", nombre: "Daniela Mu√±oz", talla: "S"},
            {numero: 126, categoria: "Principiante Femenino", nombre: "Catalina Popo Salazar", talla: "XS"},
            {numero: 127, categoria: "Principiante Femenino", nombre: "Ximena Rosero", talla: "S"},
            {numero: 128, categoria: "Principiante Femenino", nombre: "Tatiana Cer√≥n", talla: "L"},
            {numero: 129, categoria: "Principiante Femenino", nombre: "Gina Navia", talla: "M"},
            {numero: 130, categoria: "Principiante Femenino", nombre: "Juliana Mart√≠nez", talla: "S"},
            
            // Intermedio Femenino (131-139)
            {numero: 131, categoria: "Intermedio Femenino", nombre: "Yerly Pino", talla: "M"},
            {numero: 132, categoria: "Intermedio Femenino", nombre: "Sof√≠a Rend√≥n", talla: "S"},
            {numero: 133, categoria: "Intermedio Femenino", nombre: "Melisa Trejos", talla: "M"},
            {numero: 134, categoria: "Intermedio Femenino", nombre: "Yessenia Ruiz P√©rez", talla: "M"},
            {numero: 135, categoria: "Intermedio Femenino", nombre: "Lorena Troyano", talla: "S"},
            {numero: 136, categoria: "Intermedio Femenino", nombre: "Sandra Mu√±oz", talla: "L"},
            {numero: 137, categoria: "Intermedio Femenino", nombre: "Dayana Cando D√≠az", talla: "S"},
            {numero: 138, categoria: "Intermedio Femenino", nombre: "Lina Morales", talla: "M"},
            {numero: 139, categoria: "Intermedio Femenino", nombre: "Gisell Tovar", talla: "M"},
            
            // Avanzado Femenino (140-142)
            {numero: 140, categoria: "Avanzado Femenino", nombre: "Valentina Balc√°zar", talla: "S"},
            {numero: 141, categoria: "Avanzado Femenino", nombre: "Karen Sarria", talla: "M"},
            {numero: 142, categoria: "Avanzado Femenino", nombre: "Sakura", talla: "M"}
        ];

        // Variable global para almacenar la imagen de fondo
        let backgroundImage = null;
        let imageLoaded = false;

        // Funci√≥n para cargar imagen personalizada
        function loadCustomBackground(input) {
            const imageStatus = document.getElementById('imageStatus');
            
            if (input.files && input.files[0]) {
                const file = input.files[0];
                
                // Validar que sea una imagen
                if (!file.type.startsWith('image/')) {
                    imageStatus.style.backgroundColor = '#ff4444';
                    imageStatus.innerHTML = '‚ùå Por favor selecciona un archivo de imagen v√°lido';
                    return;
                }
                
                // Validar tama√±o del archivo (m√°ximo 10MB)
                if (file.size > 10 * 1024 * 1024) {
                    imageStatus.style.backgroundColor = '#ff4444';
                    imageStatus.innerHTML = '‚ùå El archivo es demasiado grande (m√°ximo 10MB)';
                    return;
                }
                
                imageStatus.style.backgroundColor = '#FFD700';
                imageStatus.style.color = '#000';
                imageStatus.innerHTML = '‚è≥ Cargando imagen...';
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = new Image();
                    img.onload = function() {
                        backgroundImage = img;
                        imageLoaded = true;
                        
                        imageStatus.style.backgroundColor = '#00ff3c';
                        imageStatus.innerHTML = `‚úÖ Imagen cargada exitosamente (${img.width}x${img.height}px)`;
                        
                        // Actualizar canvas para que use las dimensiones de la imagen
                        const canvas = document.getElementById('previewCanvas');
                        canvas.width = img.width;
                        canvas.height = img.height;
                        
                        // Actualizar informaci√≥n de dimensiones
                        document.getElementById('infoDimensions').textContent = `${img.width}x${img.height}px`;
                        
                        // Actualizar l√≠mites de posici√≥n
                        updatePositionLimits(img.width, img.height);
                        
                        // Regenerar la tarjeta actual
                        generateSingleCard();
                        
                        console.log('‚úÖ Imagen personalizada cargada');
                    };
                    img.onerror = function() {
                        imageStatus.style.backgroundColor = '#ff4444';
                        imageStatus.innerHTML = '‚ùå Error al procesar la imagen';
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        // Funci√≥n para cargar la imagen de fondo
        function loadBackgroundImage() {
            return new Promise((resolve, reject) => {
                const img = new Image();
                img.onload = function() {
                    backgroundImage = img;
                    imageLoaded = true;
                    
                    // Ajustar canvas a las dimensiones de la imagen
                    const canvas = document.getElementById('previewCanvas');
                    canvas.width = img.width;
                    canvas.height = img.height;
                    
                    const imageStatus = document.getElementById('imageStatus');
                    imageStatus.style.backgroundColor = '#00ff3c';
                    imageStatus.innerHTML = `‚úÖ Imagen base cargada (${img.width}x${img.height}px)`;
                    
                    // Actualizar informaci√≥n de dimensiones
                    document.getElementById('infoDimensions').textContent = `${img.width}x${img.height}px`;
                    
                    // Actualizar l√≠mites de posici√≥n
                    updatePositionLimits(img.width, img.height);
                    
                    console.log('‚úÖ Imagen de fondo cargada exitosamente');
                    resolve(img);
                };
                img.onerror = function() {
                    console.warn('‚ö†Ô∏è No se encontr√≥ imagen de fondo, usando dise√±o por defecto');
                    createFallbackBackground();
                    resolve(null);
                };
                
                // Aqu√≠ puedes cambiar la ruta a tu imagen PNG
                // Ejemplo: img.src = 'mi-fondo-personalizado.png';
                img.src = 'fondo-tarjeta.png'; // Cambia esta ruta por la de tu imagen
            });
        }

        // Funci√≥n de respaldo para crear fondo si no se carga la imagen
        function createFallbackBackground() {
            const canvas = document.createElement('canvas');
            canvas.width = 800;
            canvas.height = 600;
            const ctx = canvas.getContext('2d');
            
            // Fondo negro
            ctx.fillStyle = '#2b2b2b';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Elementos decorativos (l√≠neas diagonales amarillas)
            ctx.fillStyle = '#c4ff00';
            
            // L√≠nea diagonal grande
            ctx.beginPath();
            ctx.moveTo(canvas.width * 0.6, 0);
            ctx.lineTo(canvas.width, canvas.height * 0.4);
            ctx.lineTo(canvas.width, canvas.height);
            ctx.lineTo(canvas.width * 0.3, canvas.height);
            ctx.closePath();
            ctx.fill();
            
            // L√≠nea diagonal peque√±a inferior
            ctx.beginPath();
            ctx.moveTo(canvas.width * 0.1, canvas.height * 0.85);
            ctx.lineTo(canvas.width * 0.6, canvas.height * 0.85);
            ctx.lineTo(canvas.width * 0.65, canvas.height);
            ctx.lineTo(canvas.width * 0.1, canvas.height);
            ctx.closePath();
            ctx.fill();
            
            // Punto decorativo superior izquierdo
            ctx.fillStyle = '#c4ff00';
            ctx.beginPath();
            ctx.arc(60, 60, 12, 0, Math.PI * 2);
            ctx.fill();
            
            // Icono de corredor
            ctx.fillStyle = '#2b2b2b';
            ctx.font = 'bold 24px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('üèÉ', canvas.width * 0.55, canvas.height * 0.9);
            
            // Convertir a imagen
            const img = new Image();
            img.onload = function() {
                backgroundImage = img;
                imageLoaded = true;
                
                // Actualizar l√≠mites de posici√≥n
                updatePositionLimits(canvas.width, canvas.height);
                
                // Actualizar estado en la interfaz
                const imageStatus = document.getElementById('imageStatus');
                imageStatus.style.backgroundColor = '#FFD700';
                imageStatus.style.color = '#000';
                imageStatus.innerHTML = '‚ö†Ô∏è Usando dise√±o por defecto - Sube tu PNG personalizado';
            };
            img.src = canvas.toDataURL();
        }

        // Funci√≥n principal para generar una tarjeta
        function generateCard(numero, categoria, canvas = null) {
            if (!imageLoaded) {
                console.log('‚è≥ Esperando que cargue la imagen de fondo...');
                setTimeout(() => generateCard(numero, categoria, canvas), 100);
                return;
            }

            // Usar el canvas proporcionado o el de vista previa
            const targetCanvas = canvas || document.getElementById('previewCanvas');
            const ctx = targetCanvas.getContext('2d');
            
            // Limpiar canvas
            ctx.clearRect(0, 0, targetCanvas.width, targetCanvas.height);
            
            // Dibujar imagen de fondo
            if (backgroundImage) {
                ctx.drawImage(backgroundImage, 0, 0, targetCanvas.width, targetCanvas.height);
            }
            
            // Formatear n√∫mero con ceros a la izquierda
            const numeroFormateado = numero.toString().padStart(3, '0');
            
            // Obtener posiciones (solo para vista previa, en lote usar valores por defecto)
            const categoryX = canvas ? parseInt(document.getElementById('categoryX')?.value || 60) : parseInt(document.getElementById('categoryX')?.value || 60);
            const categoryY = canvas ? parseInt(document.getElementById('categoryY')?.value || 120) : parseInt(document.getElementById('categoryY')?.value || 120);
            const numberX = canvas ? parseInt(document.getElementById('numberX')?.value || 60) : parseInt(document.getElementById('numberX')?.value || 60);
            const numberY = canvas ? parseInt(document.getElementById('numberY')?.value || 320) : parseInt(document.getElementById('numberY')?.value || 320);
            
            // Obtener tama√±os de fuente (usar valores actuales tambi√©n en lote)
            const categoryFontSize = parseInt(document.getElementById('categoryFontSize')?.value || 36);
            const numberFontSize = parseInt(document.getElementById('numberFontSize')?.value || 160);
            
            // Configurar texto con sombra para mejor visibilidad
            ctx.shadowColor = 'rgba(0, 0, 0, 0.8)';
            ctx.shadowBlur = 4;
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 2;
            
            // Texto de categor√≠a
            ctx.fillStyle = '#ffffff';
            ctx.font = `bold ${categoryFontSize}px Arial`;
            ctx.textAlign = 'left';
            ctx.fillText(categoria.toUpperCase(), categoryX, categoryY);
            
            // N√∫mero grande
            ctx.fillStyle = '#ffffff';
            ctx.font = `bold ${numberFontSize}px Arial`;
            ctx.textAlign = 'left';
            ctx.fillText(numeroFormateado, numberX, numberY);
            
            // Limpiar sombra
            ctx.shadowColor = 'transparent';
            ctx.shadowBlur = 0;
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;
            
            // Actualizar informaci√≥n
            if (!canvas) {
                document.getElementById('infoNumber').textContent = numeroFormateado;
                document.getElementById('infoCategory').textContent = categoria.toUpperCase();
                document.getElementById('infoCategoryPos').textContent = `${categoryX}, ${categoryY}`;
                document.getElementById('infoNumberPos').textContent = `${numberX}, ${numberY}`;
                document.getElementById('infoDimensions').textContent = `${targetCanvas.width}x${targetCanvas.height}px`;
                document.getElementById('infoCategorySize').textContent = `${categoryFontSize}px`;
                document.getElementById('infoNumberSize').textContent = `${numberFontSize}px`;
            }
        }

        // Funci√≥n para actualizar el resumen de configuraci√≥n del lote
        function updateBatchConfigSummary() {
            const categoryX = document.getElementById('categoryX')?.value || 60;
            const categoryY = document.getElementById('categoryY')?.value || 120;
            const numberX = document.getElementById('numberX')?.value || 60;
            const numberY = document.getElementById('numberY')?.value || 320;
            const categoryFontSize = document.getElementById('categoryFontSize')?.value || 36;
            const numberFontSize = document.getElementById('numberFontSize')?.value || 160;
            
            document.getElementById('batchCategoryPos').textContent = `${categoryX}, ${categoryY}`;
            document.getElementById('batchNumberPos').textContent = `${numberX}, ${numberY}`;
            document.getElementById('batchCategorySize').textContent = `${categoryFontSize}px`;
            document.getElementById('batchNumberSize').textContent = `${numberFontSize}px`;
        }

        // Funci√≥n para ajustar tama√±o de fuente incrementalmente
        function adjustFontSize(type, increment) {
            if (type === 'category') {
                const current = parseInt(document.getElementById('categoryFontSize').value);
                const newSize = Math.max(10, Math.min(200, current + increment));
                document.getElementById('categoryFontSize').value = newSize;
            } else if (type === 'number') {
                const current = parseInt(document.getElementById('numberFontSize').value);
                const newSize = Math.max(20, Math.min(500, current + increment));
                document.getElementById('numberFontSize').value = newSize;
            }
            generateSingleCard();
            updateBatchConfigSummary();
        }

        // Funci√≥n para establecer presets de tama√±o de fuente
        function setFontPreset(size) {
            let categorySize, numberSize;
            
            switch(size) {
                case 'small':
                    categorySize = 24;
                    numberSize = 100;
                    break;
                case 'medium':
                    categorySize = 36;
                    numberSize = 160;
                    break;
                case 'large':
                    categorySize = 48;
                    numberSize = 220;
                    break;
                case 'xlarge':
                    categorySize = 60;
                    numberSize = 300;
                    break;
                default:
                    categorySize = 36;
                    numberSize = 160;
            }
            
            document.getElementById('categoryFontSize').value = categorySize;
            document.getElementById('numberFontSize').value = numberSize;
            generateSingleCard();
            updateBatchConfigSummary();
        }

        // Funci√≥n para restablecer posiciones de texto
        function resetTextPositions() {
            document.getElementById('categoryX').value = 60;
            document.getElementById('categoryY').value = 120;
            document.getElementById('numberX').value = 60;
            document.getElementById('numberY').value = 320;
            document.getElementById('categoryFontSize').value = 36;
            document.getElementById('numberFontSize').value = 160;
            generateSingleCard();
        }

        // Funci√≥n para generar ejemplo de fondo
        function generateSampleBackground() {
            const canvas = document.createElement('canvas');
            canvas.width = 800;
            canvas.height = 600;
            const ctx = canvas.getContext('2d');
            
            // Recrear el fondo de ejemplo pero m√°s similar al original
            ctx.fillStyle = '#2b2b2b';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Elementos decorativos (l√≠neas diagonales amarillas)
            ctx.fillStyle = '#c4ff00';
            
            // L√≠nea diagonal grande (m√°s similar al original)
            ctx.beginPath();
            ctx.moveTo(canvas.width * 0.5, 0);
            ctx.lineTo(canvas.width, canvas.height * 0.6);
            ctx.lineTo(canvas.width, canvas.height);
            ctx.lineTo(canvas.width * 0.2, canvas.height);
            ctx.closePath();
            ctx.fill();
            
            // L√≠nea diagonal peque√±a inferior
            ctx.beginPath();
            ctx.moveTo(0, canvas.height * 0.8);
            ctx.lineTo(canvas.width * 0.6, canvas.height * 0.8);
            ctx.lineTo(canvas.width * 0.65, canvas.height);
            ctx.lineTo(0, canvas.height);
            ctx.closePath();
            ctx.fill();
            
            // Punto decorativo superior izquierdo
            ctx.fillStyle = '#c4ff00';
            ctx.beginPath();
            ctx.arc(40, 40, 8, 0, Math.PI * 2);
            ctx.fill();
            
            // Agregar texto de ejemplo para gu√≠a
            ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.font = '20px Arial';
            ctx.fillText('CATEGORIA AQU√ç', 60, 120);
            ctx.font = '80px Arial';
            ctx.fillText('000', 60, 280);
            
            // Descargar
            const link = document.createElement('a');
            link.download = 'fondo_ejemplo_tarjeta.png';
            link.href = canvas.toDataURL();
            link.click();
            
            // Mostrar mensaje
            const imageStatus = document.getElementById('imageStatus');
            const originalBg = imageStatus.style.backgroundColor;
            const originalText = imageStatus.innerHTML;
            
            imageStatus.style.backgroundColor = '#2196F3';
            imageStatus.innerHTML = 'üì• Ejemplo de fondo descargado - √ösalo como plantilla';
            
            setTimeout(() => {
                imageStatus.style.backgroundColor = originalBg;
                imageStatus.innerHTML = originalText;
            }, 3000);
        }

        // Funci√≥n para actualizar l√≠mites de posici√≥n
        function updatePositionLimits(width, height) {
            document.getElementById('categoryX').max = width;
            document.getElementById('numberX').max = width;
            document.getElementById('categoryY').max = height;
            document.getElementById('numberY').max = height;
        }

        // Funci√≥n para centrar texto autom√°ticamente
        function centerTextPositions() {
            const canvas = document.getElementById('previewCanvas');
            const width = canvas.width;
            const height = canvas.height;
            
            // Centrar horizontalmente y posicionar verticalmente
            document.getElementById('categoryX').value = Math.round(width * 0.1);
            document.getElementById('categoryY').value = Math.round(height * 0.2);
            document.getElementById('numberX').value = Math.round(width * 0.1);
            document.getElementById('numberY').value = Math.round(height * 0.55);
            generateSingleCard();
        }

        // Funci√≥n para generar tarjeta individual
        function generateSingleCard() {
            const numero = parseInt(document.getElementById('participantNumber').value);
            const categoria = document.getElementById('participantCategory').value;
            
            generateCard(numero, categoria);
            updateBatchConfigSummary(); // Actualizar resumen del lote
        }

        // Funci√≥n para descargar la tarjeta actual
        function downloadCurrentCard() {
            const canvas = document.getElementById('previewCanvas');
            const link = document.createElement('a');
            link.download = `tarjeta_${document.getElementById('infoNumber').textContent}_${document.getElementById('infoCategory').textContent}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }

        function downloadCurrentCardJPG() {
            const canvas = document.getElementById('previewCanvas');
            const link = document.createElement('a');
            link.download = `tarjeta_${document.getElementById('infoNumber').textContent}_${document.getElementById('infoCategory').textContent}.jpg`;
            link.href = canvas.toDataURL('image/jpeg', 0.9);
            link.click();
        }

        // Funci√≥n para generar lote completo
        async function generateBatchCards() {
            const selectedCategory = document.getElementById('batchCategory').value;
            const format = document.getElementById('batchFormat').value;
            
            // Filtrar participantes por categor√≠a
            const participantesCategoria = participantes.filter(p => p.categoria === selectedCategory);
            
            if (participantesCategoria.length === 0) {
                alert('No hay participantes en esta categor√≠a');
                return;
            }

            // Obtener configuraci√≥n actual
            const categoryX = document.getElementById('categoryX').value;
            const categoryY = document.getElementById('categoryY').value;
            const numberX = document.getElementById('numberX').value;
            const numberY = document.getElementById('numberY').value;
            const categoryFontSize = document.getElementById('categoryFontSize').value;
            const numberFontSize = document.getElementById('numberFontSize').value;

            // Confirmaci√≥n con detalles de configuraci√≥n
            const confirmMessage = `¬øGenerar ${participantesCategoria.length} tarjetas para "${selectedCategory}"?\n\n` +
                `Configuraci√≥n que se aplicar√°:\n` +
                `‚Ä¢ Posici√≥n Categor√≠a: ${categoryX}, ${categoryY}\n` +
                `‚Ä¢ Tama√±o Categor√≠a: ${categoryFontSize}px\n` +
                `‚Ä¢ Posici√≥n N√∫mero: ${numberX}, ${numberY}\n` +
                `‚Ä¢ Tama√±o N√∫mero: ${numberFontSize}px\n` +
                `‚Ä¢ Formato: ${format.toUpperCase()}`;

            if (!confirm(confirmMessage)) {
                return;
            }

            // Mostrar barra de progreso
            const progressContainer = document.getElementById('batchProgress');
            const progressBar = document.getElementById('batchProgressBar');
            const statusText = document.getElementById('batchStatus');
            const batchButton = document.getElementById('batchButton');
            
            progressContainer.classList.remove('hidden');
            batchButton.disabled = true;
            batchButton.textContent = 'Generando...';
            
            // Crear canvas temporal para generaci√≥n en lote (usar dimensiones de la imagen de fondo)
            const tempCanvas = document.createElement('canvas');
            const previewCanvas = document.getElementById('previewCanvas');
            tempCanvas.width = previewCanvas.width;
            tempCanvas.height = previewCanvas.height;
            
            const zip = new JSZip();
            
            for (let i = 0; i < participantesCategoria.length; i++) {
                const participante = participantesCategoria[i];
                const progress = ((i + 1) / participantesCategoria.length) * 100;
                
                // Actualizar progreso
                progressBar.style.width = progress + '%';
                statusText.textContent = `Procesando ${i + 1}/${participantesCategoria.length}: ${participante.nombre}`;
                
                // Generar tarjeta usando configuraci√≥n actual
                const categoryName = participante.categoria.split(' ')[0].toUpperCase();
                generateCard(participante.numero, categoryName, tempCanvas);
                
                // Convertir a blob
                const dataUrl = tempCanvas.toDataURL(`image/${format}`, 0.9);
                const base64Data = dataUrl.split(',')[1];
                
                // Agregar al ZIP
                const fileName = `${participante.numero.toString().padStart(3, '0')}_${participante.nombre.replace(/[^a-zA-Z0-9]/g, '_')}.${format}`;
                zip.file(fileName, base64Data, {base64: true});
                
                // Peque√±a pausa para no bloquear la UI
                await new Promise(resolve => setTimeout(resolve, 100));
            }
            
            // Generar y descargar ZIP
            statusText.textContent = 'Generando archivo ZIP...';
            const zipBlob = await zip.generateAsync({type: 'blob'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(zipBlob);
            link.download = `tarjetas_${selectedCategory.replace(/\s+/g, '_')}.zip`;
            link.click();
            
            // Resetear UI
            progressContainer.classList.add('hidden');
            batchButton.disabled = false;
            batchButton.textContent = 'üì¶ Generar Lote Completo';
            
            alert(`¬°Lote generado exitosamente! ${participantesCategoria.length} tarjetas descargadas con tu configuraci√≥n personalizada.`);
        }

        // Inicializar con la imagen de fondo
        window.onload = async function() {
            try {
                await loadBackgroundImage();
                generateCard(7, 'PRINCIPIANTE');
                updateBatchConfigSummary(); // Inicializar resumen del lote
            } catch (error) {
                console.error('Error al inicializar:', error);
                // Crear fondo por defecto si hay error
                createFallbackBackground();
                generateCard(7, 'PRINCIPIANTE');
                updateBatchConfigSummary(); // Inicializar resumen del lote
            }
        };
    </script>
    
    <!-- Librer√≠a JSZip para crear archivos ZIP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</body>
</html>